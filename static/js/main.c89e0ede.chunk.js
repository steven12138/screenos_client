(this["webpackJsonpscreen-os"]=this["webpackJsonpscreen-os"]||[]).push([[0],{116:function(t,e,a){"use strict";a.r(e);var n=a(11),i=a(12),s=a(15),r=a(14),c=a(13),o=a(3),l=a(0),h=a.n(l),j=a(10),d=a.n(j),p=a(153),u=a(156),b=a(158),O=a(51),g=a(161),x=a(159),f=a(160),m=a.p+"static/media/SubIT.b200c094.svg",v=Object(p.a)((function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1}}}));function y(){setTimeout((function(){window.open("https://pkuschool.github.io/SubIT/")}),300)}function k(t){var e=v();return Object(o.jsx)("div",{className:e.root,children:Object(o.jsx)(u.a,{position:"static",children:Object(o.jsxs)(b.a,{children:[Object(o.jsx)(x.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(o.jsx)(f.a,{children:"book_multiple_variant"})}),Object(o.jsx)(O.a,{variant:"h6",className:e.title,children:t.title}),Object(o.jsx)(g.a,{color:"inherit",onClick:y,children:Object(o.jsx)("img",{src:m,alt:"SubIT",style:{height:"50px"}})})]})})})}var w=a(162),C=a(47),P=a.n(C),S=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).handleClick=i.handleClick.bind(Object(s.a)(i)),i}return Object(i.a)(a,[{key:"handleClick",value:function(){this.props.changePage("View1")}},{key:"render",value:function(){return Object(o.jsx)("div",{style:{position:"absolute",right:"100px",bottom:"25px"},onClick:this.handleClick,children:Object(o.jsx)(w.a,{color:"secondary","aria-label":"BookmarkBorder",children:Object(o.jsx)(P.a,{})})})}}]),a}(h.a.Component),B=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).handleClick=i.handleClick.bind(Object(s.a)(i)),i}return Object(i.a)(a,[{key:"handleClick",value:function(){this.props.changePage("View2")}},{key:"render",value:function(){return Object(o.jsx)("div",{style:{position:"absolute",right:"25px",bottom:"25px"},onClick:this.handleClick,children:Object(o.jsx)(w.a,{color:"secondary","aria-label":"BookmarkBorder",children:Object(o.jsx)(P.a,{})})})}}]),a}(h.a.Component),D=a(163),I=a(167),T=a(164),N=a(172),R=a(165),V=a(77),z=a.n(V),H=a(31),G=a.n(H),L=a(80),_=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).state={password:"",valid:!0},i.handlePasswordChange=i.handlePasswordChange.bind(Object(s.a)(i)),i.handleSubmit=i.handleSubmit.bind(Object(s.a)(i)),i}return Object(i.a)(a,[{key:"handlePasswordChange",value:function(t){this.setState({password:t.target.value,valid:!0})}},{key:"handleSubmit",value:function(){if(this.state.password){var t=new URLSearchParams;t.append("password",this.state.password),G.a.post("",t).then((function(t){var e=t.data;console.log(e)})).catch((function(t){console.error(t)}))}else this.setState({valid:!1})}},{key:"render",value:function(){return Object(o.jsx)(D.a,{style:{width:"500px",maxHeight:"300px"},children:Object(o.jsxs)(T.a,{style:{padding:0},children:[Object(o.jsx)(L.a,{style:{padding:"20px 20px 15px 20px",borderRadius:"4px 4px 0 0",backgroundColor:"#3f51b5"},children:Object(o.jsx)(O.a,{style:{color:"white",fontSize:"1.5em"},children:"\u767b\u5f55"})}),Object(o.jsx)(T.a,{justify:"center",children:Object(o.jsxs)(R.a,{container:!0,spacing:1,alignItems:"flex-end",justify:"center",style:{margin:"20px"},children:[Object(o.jsx)(R.a,{item:!0,style:{marginLeft:"-50px"},children:Object(o.jsx)(z.a,{})}),Object(o.jsx)(R.a,{item:!0,children:Object(o.jsx)(N.a,{error:!this.state.valid,style:{width:"360px",transition:"ease-in-out .25s all"},label:"\u7ba1\u7406\u5458\u5bc6\u7801",type:"password",value:this.state.password,onChange:this.handlePasswordChange})})]})}),Object(o.jsx)(I.a,{style:{marginBottom:"10px",marginTop:"-10px"},children:Object(o.jsxs)(R.a,{container:!0,children:[Object(o.jsx)(R.a,{item:!0,xs:10}),Object(o.jsx)(R.a,{item:!0,xs:1,children:Object(o.jsx)(g.a,{variant:"contained",color:"primary",onClick:this.handleSubmit,children:"\u767b\u5f55"})})]})})]})})}}]),a}(h.a.Component),J=a.p+"static/media/bkg.45aabba1.jpg",M=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(){return Object(n.a)(this,a),e.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(k,{changePage:this.props.changePage,title:"\u5927\u5c4f\u7ba1\u7406"}),Object(o.jsxs)("div",{style:{height:"calc(100vh - 64px)",backgroundSize:"cover",backgroundImage:"url(".concat(J,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[Object(o.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:Object(o.jsx)(_,{})}),Object(o.jsx)(S,{changePage:this.props.changePage,link:"View1"}),Object(o.jsx)(B,{changePage:this.props.changePage,link:"View2"})]})]})}}]),a}(h.a.Component),q=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).nextPage=i.nextPage.bind(Object(s.a)(i)),i}return Object(i.a)(a,[{key:"nextPage",value:function(){console.log("finish play"),this.props.nextPage()}},{key:"render",value:function(){var t=Object(o.jsx)("div",{children:"Blank"});return 0===this.props.type?t=Object(o.jsx)("div",{style:{height:"calc(100vh - 64px)",width:"100%",backgroundImage:"url("+this.props.url+")",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat"},alt:""}):1===this.props.type?t=Object(o.jsx)("video",{onEnded:this.nextPage,autoPlay:!0,style:{height:"calc(100% - 70px)",width:"100%"},src:this.props.url,id:"Scroll_video"}):2===this.props.type&&(t=Object(o.jsx)("iframe",{style:{height:"calc(100vh - 10px)",width:"100%"},src:this.props.url,frameBorder:"0"})),t}}]),a}(h.a.Component);function A(t){var e=t.list,a=t.nextPage,n=e.map((function(e,n){return t.page===n?Object(o.jsx)(q,{type:e.type,url:e.url,nextPage:a},n):""}));return Object(o.jsx)("div",{children:n})}var E=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var i;return Object(n.a)(this,a),2===(i=e.call(this,t)).props.id?i.state={page:0,time:5e3,list:[{url:"https://s1.ax1x.com/2020/11/08/BTwxuF.png",type:0}]}:i.state={page:0,time:5e3,list:[{url:"https://s1.ax1x.com/2020/11/08/BT03gf.png",type:0}]},i.tick=i.tick.bind(Object(s.a)(i)),i}return Object(i.a)(a,[{key:"refresh",value:function(){var t=this;G.a.get("http://192.144.180.74/php/getlist.php?device="+this.props.id).then((function(e){var a=e.data.data;0!==a.length&&(console.log(e.data,a),t.setState({list:a}))})).catch((function(t){console.error(t)})),G.a.get("http://192.144.180.74/php/gettime.php").then((function(e){var a=e.data.des;t.setState({time:a})})).catch((function(t){console.error(t)}))}},{key:"componentDidMount",value:function(){var t=this,e=this;G.a.get("https://192.144.180.74/php/getlist.php?device="+this.props.id).then((function(a){var n=a.data.data;0!==n.length&&(e.setState({list:n}),console.log(t.state.list),G.a.get("https://192.144.180.74/php/gettime.php").then((function(t){var a=t.data.des;e.setState({time:a}),0!==e.state.list.length&&1!==e.state.list[0].type&&(e.next=setTimeout((function(){e.tick()}),e.state.time))})).catch((function(t){console.error(t)})))})).catch((function(t){console.error(t)}))}},{key:"tick",value:function(){var t=this,e=this.state.page+1===this.state.list.length?0:this.state.page+1;console.log(e),0===e&&this.refresh(),this.setState({page:e}),console.log("set next tick",e),1!==this.state.list[e].type&&(this.next=setTimeout((function(){t.tick()}),this.state.time))}},{key:"render",value:function(){return Object(o.jsxs)("div",{children:[(0===this.state.list.length||2!==this.state.list[this.state.page].type)&&Object(o.jsx)(k,{title:"\u653e\u6620\u6a21\u5f0f\xb7"+(1===this.props.id?"\u5de6":"\u53f3")+" "+(this.state.page+1)+"/"+this.state.list.length}),Object(o.jsx)("div",{style:{backgroundColor:"black",height:"calc(100vh - 64px)"},children:Object(o.jsx)(A,{list:this.state.list,page:this.state.page,nextPage:this.tick})})]})}}]),a}(h.a.Component),F=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){return Object(n.a)(this,a),e.call(this,t)}return Object(i.a)(a,[{key:"render",value:function(){return Object(o.jsx)(E,{style:{height:"100vh",width:"100vw"},id:this.props.id})}}]),a}(h.a.Component),U=a(5),K=a(78),Q=a.n(K),W=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).modifyDrawer=i.modifyDrawer.bind(Object(s.a)(i)),i}return Object(i.a)(a,[{key:"modifyDrawer",value:function(){this.props.modifyDrawer()}},{key:"render",value:function(){var t=this.props.classes;return Object(o.jsx)(u.a,{position:"fixed",className:t.appBar,children:Object(o.jsxs)(b.a,{children:[Object(o.jsx)(x.a,{color:"inherit","aria-label":"open menu",edge:"start",className:t.menuButton,onClick:this.modifyDrawer,children:Object(o.jsx)(Q.a,{})}),Object(o.jsx)(O.a,{variant:"h6",className:t.title,children:"\u5c4f\u5e55\u7ba1\u7406\xb7\u540e\u53f0"}),Object(o.jsx)(g.a,{color:"inherit",onClick:function(){setTimeout((function(){window.open("https://pkuschool.github.io/SubIT/")}),300)},children:Object(o.jsx)("img",{src:m,alt:"SubIT",style:{height:"50px"}})})]})})}}]),a}(h.a.Component),X=Object(U.a)((function(t){return{appBar:{zIndex:t.zIndex.drawer+1},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1}}}))(W),Y=a(174),Z=a(166),$=a(168),tt=a(169),et=a(170),at=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(){return Object(n.a)(this,a),e.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var t=this.props.classes;return Object(o.jsxs)(Y.a,{className:t.Drawer,variant:"persistent",anchor:"left",open:this.props.isOpen,classes:{paper:t.drawerPaper},children:[Object(o.jsx)(b.a,{}),Object(o.jsx)(Z.a,{children:["\u56fe\u7247\u7ba1\u7406","\u9884\u89c8"].map((function(t,e){return Object(o.jsxs)($.a,{button:!0,children:[Object(o.jsx)(tt.a,{children:e%2===0?Object(o.jsx)(f.a,{children:"add_circle"}):Object(o.jsx)(f.a,{children:"inbox"})}),Object(o.jsx)(et.a,{primary:t})]},t)}))})]})}}]),a}(h.a.Component),nt=Object(U.a)((function(t){return{drawer:{width:260,flexShrink:0},drawerPaper:{width:260}}}))(at),it=a(50),st=a(58),rt=a(4),ct=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(){return Object(n.a)(this,a),e.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var t=this.props.classes;return Object(o.jsx)("main",{className:Object(rt.a)(t.content,Object(it.a)({},t.contentShift,this.props.isOpen)),children:Object(o.jsx)("div",{className:t.drawerHeader})})}}]),a}(h.a.Component),ot=Object(U.a)((function(t){return{drawerHeader:Object(st.a)(Object(st.a)({display:"flex",alignItems:"center",padding:t.spacing(0,1)},t.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:0},contentShift:{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:160}}}))(ct),lt=a(171),ht=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).state={drawer:!0,page:"modify"},i.modifyDrawer=i.modifyDrawer.bind(Object(s.a)(i)),i}return Object(i.a)(a,[{key:"modifyDrawer",value:function(){this.setState({drawer:!this.state.drawer})}},{key:"render",value:function(){var t=this.props.classes;return Object(o.jsxs)("div",{className:t.root,children:[Object(o.jsx)(lt.a,{}),Object(o.jsx)(X,{modifyDrawer:this.modifyDrawer,isOpen:this.state.drawer}),Object(o.jsx)(nt,{isOpen:this.state.drawer}),Object(o.jsx)(h.a.StrictMode,{children:"modify"===this.state.page&&Object(o.jsx)(ot,{isOpen:this.state.drawer})})]})}}]),a}(h.a.Component),jt=Object(U.a)((function(t){return{root:{display:"flex"}}}))(ht),dt=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).state={page:"Home"},i.changePage=i.changePage.bind(Object(s.a)(i)),i}return Object(i.a)(a,[{key:"changePage",value:function(t){console.log(t),this.setState({page:t})}},{key:"render",value:function(){return Object(o.jsxs)("div",{children:["Home"===this.state.page&&Object(o.jsx)(M,{changePage:this.changePage}),"View1"===this.state.page&&Object(o.jsx)(F,{id:1}),"View2"===this.state.page&&Object(o.jsx)(F,{id:2}),"Admin"===this.state.page&&Object(o.jsx)(jt,{})]})}}]),a}(h.a.Component);d.a.render(Object(o.jsx)(dt,{}),document.querySelector("#root"))}},[[116,1,2]]]);
//# sourceMappingURL=main.c89e0ede.chunk.js.map